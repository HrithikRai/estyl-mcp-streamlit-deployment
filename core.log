2025-09-03 19:47:02,692 [DEBUG] Initializing server 'Estyl Retriever'
2025-09-03 19:47:02,692 [DEBUG] Registering handler for ListToolsRequest
2025-09-03 19:47:02,692 [DEBUG] Registering handler for CallToolRequest
2025-09-03 19:47:02,692 [DEBUG] Registering handler for ListResourcesRequest
2025-09-03 19:47:02,692 [DEBUG] Registering handler for ReadResourceRequest
2025-09-03 19:47:02,692 [DEBUG] Registering handler for PromptListRequest
2025-09-03 19:47:02,692 [DEBUG] Registering handler for GetPromptRequest
2025-09-03 19:47:02,692 [DEBUG] Registering handler for ListResourceTemplatesRequest
2025-09-03 19:47:02,703 [DEBUG] Using proactor: IocpProactor
2025-09-03 19:47:02,710 [DEBUG] Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-09-03 19:47:02,711 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x00000291928F5490>
2025-09-03 19:47:02,711 [INFO] Processing request of type ListToolsRequest
2025-09-03 19:47:02,711 [DEBUG] Dispatching request of type ListToolsRequest
2025-09-03 19:47:02,711 [DEBUG] Response sent
2025-09-03 19:47:58,704 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x0000029192892C90>
2025-09-03 19:47:58,704 [INFO] Processing request of type CallToolRequest
2025-09-03 19:47:58,704 [DEBUG] Dispatching request of type CallToolRequest
2025-09-03 19:47:58,704 [DEBUG] Response sent
2025-09-03 19:48:20,159 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x00000291928F6ED0>
2025-09-03 19:48:20,159 [INFO] Processing request of type CallToolRequest
2025-09-03 19:48:20,159 [DEBUG] Dispatching request of type CallToolRequest
2025-09-03 19:48:20,160 [DEBUG] >>> estyl_retrieve called with args: {'mode': 'outfit', 'text_query': 'sexy old money style suit', 'gender': 'male', 'categories': ['suits'], 'search_with': 'Text', 'image_b64': None, 'brand_contains': None, 'budget': 300.0, 'limit': 10, 'topk_for_rerank': 5, 'exclude_ids': None, 'num_outfits': 5, 'articles': 3, 'per_cat_candidates': 3}
2025-09-03 19:48:20,160 [DEBUG] Resolved categories: ['Accessories', 'Shoes', 'Bottoms', 'Outerwear', 'Tops']
2025-09-03 19:48:20,160 [DEBUG] Estyl Outfit params: OutfitParams(text_query='sexy old money style suit', search_with='Text', image_b64=None, gender='male', brand_contains=None, budget=300.0, num_outfits=5, articles=3, per_cat_candidates=3)
2025-09-03 19:48:20,944 [DEBUG] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-311ed260-b502-436e-b3f2-f9b11f8b7d53', 'json_data': {'messages': [{'role': 'system', 'content': 'You output only valid JSON: a LIST of outfit objects keyed by your provided categories.'}, {'role': 'user', 'content': '\nCreate 5 outfit plans as a JSON LIST. Use these exact categories only:\n[\'Tops\', \'Bottoms\', \'Shoes\']\n\nConstraints:\n- Event: sexy old money style suit\n- Total budget (EUR): 300.0\n- Style/brand hints: \n\nOutput example (LIST):\n[\n  {"Tops": "white oxford shirt, slim fit", "Bottoms": "navy tailored trousers", "Shoes": "black leather oxford shoes"}\n]\n'}], 'model': 'gpt-4o-mini', 'temperature': 0.5}}
2025-09-03 19:48:20,994 [DEBUG] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-03 19:48:20,994 [DEBUG] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-03 19:48:21,053 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002919441A210>
2025-09-03 19:48:21,053 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x0000029193076A50> server_hostname='api.openai.com' timeout=5.0
2025-09-03 19:48:21,117 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000291943E6CF0>
2025-09-03 19:48:21,117 [DEBUG] send_request_headers.started request=<Request [b'POST']>
2025-09-03 19:48:21,118 [DEBUG] send_request_headers.complete
2025-09-03 19:48:21,118 [DEBUG] send_request_body.started request=<Request [b'POST']>
2025-09-03 19:48:21,118 [DEBUG] send_request_body.complete
2025-09-03 19:48:21,118 [DEBUG] receive_response_headers.started request=<Request [b'POST']>
2025-09-03 19:48:28,472 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 03 Sep 2025 14:18:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'estyl'), (b'openai-processing-ms', b'7004'), (b'openai-project', b'proj_hW6ArBp4wnCsWuNcNn20BIGo'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'7007'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999887'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_aa315d97dd3f49e698cf046b38177472'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=XDm9J4bb1Itpq9zM.O_KZz9.MfMETrKuUygK_4XGZOw-1756909108-1.0.1.1-B8iBGZk4qc5jPrVWZ8Qe_1htHZcaq3QzYy8AapkvMLzuEvVTYgshGr9Dgre59uRB2cKLKie2GiFmIHfo5SkENojCOSGcoASWZjANfBs151c; path=/; expires=Wed, 03-Sep-25 14:48:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=DwfUHzx1CIx6V4sGgpUh1wX7qFm6j0Rw9dNL45vUakc-1756909108604-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9795e03b2ab489f6-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-03 19:48:28,473 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 19:48:28,473 [DEBUG] receive_response_body.started request=<Request [b'POST']>
2025-09-03 19:48:28,473 [DEBUG] receive_response_body.complete
2025-09-03 19:48:28,473 [DEBUG] response_closed.started
2025-09-03 19:48:28,473 [DEBUG] response_closed.complete
2025-09-03 19:48:28,473 [DEBUG] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Wed, 03 Sep 2025 14:18:28 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'estyl'), ('openai-processing-ms', '7004'), ('openai-project', 'proj_hW6ArBp4wnCsWuNcNn20BIGo'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '7007'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999887'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_aa315d97dd3f49e698cf046b38177472'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=XDm9J4bb1Itpq9zM.O_KZz9.MfMETrKuUygK_4XGZOw-1756909108-1.0.1.1-B8iBGZk4qc5jPrVWZ8Qe_1htHZcaq3QzYy8AapkvMLzuEvVTYgshGr9Dgre59uRB2cKLKie2GiFmIHfo5SkENojCOSGcoASWZjANfBs151c; path=/; expires=Wed, 03-Sep-25 14:48:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=DwfUHzx1CIx6V4sGgpUh1wX7qFm6j0Rw9dNL45vUakc-1756909108604-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9795e03b2ab489f6-BOM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-03 19:48:28,473 [DEBUG] request_id: req_aa315d97dd3f49e698cf046b38177472
2025-09-03 19:48:28,477 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:48:28,731 [DEBUG] connect_tcp.started host='unv2yy07qfybxgvelndplw.c0.europe-west3.gcp.weaviate.cloud' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-03 19:48:29,076 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000291944DF230>
2025-09-03 19:48:29,076 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x00000291944FA7D0> server_hostname='unv2yy07qfybxgvelndplw.c0.europe-west3.gcp.weaviate.cloud' timeout=5.0
2025-09-03 19:48:29,180 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000291944DF140>
2025-09-03 19:48:29,180 [DEBUG] send_request_headers.started request=<Request [b'GET']>
2025-09-03 19:48:29,180 [DEBUG] send_request_headers.complete
2025-09-03 19:48:29,180 [DEBUG] send_request_body.started request=<Request [b'GET']>
2025-09-03 19:48:29,181 [DEBUG] send_request_body.complete
2025-09-03 19:48:29,181 [DEBUG] receive_response_headers.started request=<Request [b'GET']>
2025-09-03 19:48:29,585 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'access-control-allow-headers', b'Content-Type, Authorization, Batch, X-Openai-Api-Key, X-Openai-Organization, X-Openai-Baseurl, X-Anyscale-Baseurl, X-Anyscale-Api-Key, X-Cohere-Api-Key, X-Cohere-Baseurl, X-Huggingface-Api-Key, X-Azure-Api-Key, X-Azure-Deployment-Id, X-Azure-Resource-Name, X-Azure-Concurrency, X-Azure-Block-Size, X-Google-Api-Key, X-Google-Vertex-Api-Key, X-Google-Studio-Api-Key, X-Goog-Api-Key, X-Goog-Vertex-Api-Key, X-Goog-Studio-Api-Key, X-Palm-Api-Key, X-Jinaai-Api-Key, X-Aws-Access-Key, X-Aws-Secret-Key, X-Voyageai-Baseurl, X-Voyageai-Api-Key, X-Mistral-Baseurl, X-Mistral-Api-Key, X-Anthropic-Baseurl, X-Anthropic-Api-Key, X-Databricks-Endpoint, X-Databricks-Token, X-Databricks-User-Agent, X-Friendli-Token, X-Friendli-Baseurl, X-Weaviate-Api-Key, X-Weaviate-Cluster-Url, X-Nvidia-Api-Key, X-Nvidia-Baseurl'), (b'access-control-allow-methods', b'*'), (b'access-control-allow-origin', b'*'), (b'content-type', b'application/json'), (b'vary', b'Origin'), (b'date', b'Wed, 03 Sep 2025 14:18:29 GMT'), (b'x-envoy-upstream-service-time', b'7'), (b'server', b'istio-envoy'), (b'Via', b'1.1 google'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-03 19:48:29,585 [INFO] HTTP Request: GET https://unv2yy07qfybxgvelndplw.c0.europe-west3.gcp.weaviate.cloud/v1/meta "HTTP/1.1 200 OK"
2025-09-03 19:48:29,585 [DEBUG] receive_response_body.started request=<Request [b'GET']>
2025-09-03 19:48:29,591 [DEBUG] receive_response_body.complete
2025-09-03 19:48:29,591 [DEBUG] response_closed.started
2025-09-03 19:48:29,591 [DEBUG] response_closed.complete
2025-09-03 19:48:30,514 [DEBUG] connect_tcp.started host='pypi.org' port=443 local_address=None timeout=2 socket_options=None
2025-09-03 19:48:30,565 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002919451FB90>
2025-09-03 19:48:30,565 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x000002919450C450> server_hostname='pypi.org' timeout=2
2025-09-03 19:48:30,589 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002919451FAA0>
2025-09-03 19:48:30,589 [DEBUG] send_request_headers.started request=<Request [b'GET']>
2025-09-03 19:48:30,589 [DEBUG] send_request_headers.complete
2025-09-03 19:48:30,590 [DEBUG] send_request_body.started request=<Request [b'GET']>
2025-09-03 19:48:30,590 [DEBUG] send_request_body.complete
2025-09-03 19:48:30,590 [DEBUG] receive_response_headers.started request=<Request [b'GET']>
2025-09-03 19:48:30,612 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'75363'), (b'access-control-expose-headers', b'X-PyPI-Last-Serial'), (b'cache-control', b'max-age=900, public'), (b'referrer-policy', b'origin-when-cross-origin'), (b'access-control-max-age', b'86400'), (b'access-control-allow-methods', b'GET'), (b'content-type', b'application/json'), (b'access-control-allow-headers', b'Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since'), (b'access-control-allow-origin', b'*'), (b'content-encoding', b'gzip'), (b'etag', b'"kJtVU93hEX/WQFTLfYLa5A"'), (b'x-pypi-last-serial', b'31028467'), (b'content-security-policy', b"base-uri 'self'; connect-src 'self' https://api.github.com/repos/ https://api.github.com/search/issues https://gitlab.com/api/ https://analytics.python.org fastly-insights.com *.fastly-insights.com *.ethicalads.io https://api.pwnedpasswords.com https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/sre/mathmaps/ https://2p66nmmycsj3.statuspage.io; default-src 'none'; font-src 'self' fonts.gstatic.com; form-action 'self' https://checkout.stripe.com https://billing.stripe.com; frame-ancestors 'none'; frame-src 'none'; img-src 'self' https://pypi-camo.freetls.fastly.net/ *.fastly-insights.com *.ethicalads.io ethicalads.blob.core.windows.net; script-src 'self' https://analytics.python.org *.fastly-insights.com *.ethicalads.io 'sha256-U3hKDidudIaxBDEzwGJApJgPEf2mWk6cfMWghrAa6i0=' https://cdn.jsdelivr.net/npm/mathjax@3.2.2/ 'sha256-1CldwzdEg2k1wTmf7s5RWVd7NMXI/7nxxjJM2C4DqII=' 'sha256-0POaN8stWYQxhzjKS+/eOfbbJ/u4YHO5ZagJvLpMypo='; style-src 'self' fonts.googleapis.com *.ethicalads.io 'sha256-2YHqZokjiizkHi1Zt+6ar0XJ0OeEy/egBnlm+MDMtrM=' 'sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=' 'sha256-JLEjeN9e5dGsz5475WyRaoA4eQOdNPxDIeUhclnJDCE=' 'sha256-mQyxHEuwZJqpxCw3SLmc4YOySNKXunyu2Oiz1r3/wAE=' 'sha256-OCf+kv5Asiwp++8PIevKBYSgnNLNUZvxAp4a7wMLuKA=' 'sha256-h5LOiLhk6wiJrGsG5ItM0KimwzWQH/yAcmoJDJL//bY='; worker-src *.fastly-insights.com"), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 03 Sep 2025 14:18:30 GMT'), (b'X-Served-By', b'cache-iad-kjyo7100074-IAD, cache-iad-kjyo7100041-IAD, cache-bom-vanm7210036-BOM'), (b'X-Cache', b'MISS, HIT, HIT'), (b'X-Cache-Hits', b'0, 29, 3'), (b'X-Timer', b'S1756909111.778767,VS0,VE0'), (b'Vary', b'Accept-Encoding'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Permitted-Cross-Domain-Policies', b'none'), (b'Permissions-Policy', b'publickey-credentials-create=(self),publickey-credentials-get=(self),accelerometer=(),ambient-light-sensor=(),autoplay=(),battery=(),camera=(),display-capture=(),document-domain=(),encrypted-media=(),execution-while-not-rendered=(),execution-while-out-of-viewport=(),fullscreen=(),gamepad=(),geolocation=(),gyroscope=(),hid=(),identity-credentials-get=(),idle-detection=(),local-fonts=(),magnetometer=(),microphone=(),midi=(),otp-credentials=(),payment=(),picture-in-picture=(),screen-wake-lock=(),serial=(),speaker-selection=(),storage-access=(),usb=(),web-share=(),xr-spatial-tracking=()')])
2025-09-03 19:48:30,613 [INFO] HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-09-03 19:48:30,613 [DEBUG] receive_response_body.started request=<Request [b'GET']>
2025-09-03 19:48:30,677 [DEBUG] receive_response_body.complete
2025-09-03 19:48:30,677 [DEBUG] response_closed.started
2025-09-03 19:48:30,677 [DEBUG] response_closed.complete
2025-09-03 19:48:30,678 [DEBUG] close.started
2025-09-03 19:48:30,678 [DEBUG] close.complete
2025-09-03 19:48:30,679 [DEBUG] Running hybrid search with query=cream silk blouse, tailored fit, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194288B60>
2025-09-03 19:48:31,386 [DEBUG] Got 6 objects back
2025-09-03 19:48:31,389 [DEBUG] Starting new HTTPS connection (1): huggingface.co:443
2025-09-03 19:48:32,001 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/config.json HTTP/1.1" 307 0
2025-09-03 19:48:32,034 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/patrickjohncyh/fashion-clip/7e3ba62ce16b379a1ab479346b66f192e76f51b7/config.json HTTP/1.1" 200 0
2025-09-03 19:48:32,317 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/config.json HTTP/1.1" 307 0
2025-09-03 19:48:32,344 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/patrickjohncyh/fashion-clip/7e3ba62ce16b379a1ab479346b66f192e76f51b7/config.json HTTP/1.1" 200 0
2025-09-03 19:48:32,691 [DEBUG] https://huggingface.co:443 "GET /api/models/patrickjohncyh/fashion-clip/revision/main HTTP/1.1" 200 3495
2025-09-03 19:48:32,968 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-09-03 19:48:32,994 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/patrickjohncyh/fashion-clip/7e3ba62ce16b379a1ab479346b66f192e76f51b7/tokenizer_config.json HTTP/1.1" 200 0
2025-09-03 19:48:33,282 [DEBUG] https://huggingface.co:443 "GET /api/models/patrickjohncyh/fashion-clip/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-09-03 19:48:33,623 [DEBUG] https://huggingface.co:443 "GET /api/models/patrickjohncyh/fashion-clip/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-09-03 19:48:33,915 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/processor_config.json HTTP/1.1" 404 0
2025-09-03 19:48:34,157 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/chat_template.json HTTP/1.1" 404 0
2025-09-03 19:48:34,382 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/chat_template.jinja HTTP/1.1" 404 0
2025-09-03 19:48:34,646 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/audio_tokenizer_config.json HTTP/1.1" 404 0
2025-09-03 19:48:34,968 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-09-03 19:48:34,993 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/patrickjohncyh/fashion-clip/7e3ba62ce16b379a1ab479346b66f192e76f51b7/tokenizer_config.json HTTP/1.1" 200 0
2025-09-03 19:48:35,235 [DEBUG] https://huggingface.co:443 "GET /api/models/patrickjohncyh/fashion-clip/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-09-03 19:48:35,517 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:48:35,517 [DEBUG] Running hybrid search with query=light grey high-waisted trousers, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002918ABC3530>
2025-09-03 19:48:36,167 [DEBUG] Got 6 objects back
2025-09-03 19:48:36,363 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:48:36,363 [DEBUG] Running hybrid search with query=nude pointed-toe pumps, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x00000291930037A0>
2025-09-03 19:48:36,877 [DEBUG] Got 6 objects back
2025-09-03 19:48:37,065 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:48:37,065 [DEBUG] Running hybrid search with query=black fitted turtleneck sweater, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194339BB0>
2025-09-03 19:48:37,682 [DEBUG] Got 6 objects back
2025-09-03 19:48:37,872 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:48:37,872 [DEBUG] Running hybrid search with query=charcoal wool trousers, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919451F620>
2025-09-03 19:48:38,409 [DEBUG] Got 6 objects back
2025-09-03 19:48:38,594 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:48:38,594 [DEBUG] Running hybrid search with query=black leather loafers, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194441A30>
2025-09-03 19:48:39,105 [DEBUG] Got 6 objects back
2025-09-03 19:48:39,285 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:48:39,285 [DEBUG] Running hybrid search with query=light blue button-down shirt, slim fit, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x00000291943E7170>
2025-09-03 19:48:39,917 [DEBUG] Got 6 objects back
2025-09-03 19:48:40,115 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:48:40,117 [DEBUG] Running hybrid search with query=dark navy chinos, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919323F770>
2025-09-03 19:48:40,642 [DEBUG] Got 6 objects back
2025-09-03 19:48:40,821 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:48:40,822 [DEBUG] Running hybrid search with query=brown brogue shoes, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194441A30>
2025-09-03 19:48:41,366 [DEBUG] Got 6 objects back
2025-09-03 19:48:41,548 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:48:41,548 [DEBUG] Running hybrid search with query=burgundy cashmere sweater, crew neck, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002918ABC3530>
2025-09-03 19:48:42,062 [DEBUG] Got 6 objects back
2025-09-03 19:48:42,254 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:48:42,255 [DEBUG] Running hybrid search with query=beige linen trousers, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919323F770>
2025-09-03 19:48:42,717 [DEBUG] Got 6 objects back
2025-09-03 19:48:42,893 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:48:42,893 [DEBUG] Running hybrid search with query=tan suede derby shoes, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029195471730>
2025-09-03 19:48:43,402 [DEBUG] Got 6 objects back
2025-09-03 19:48:43,589 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:48:43,589 [DEBUG] Running hybrid search with query=white dress shirt, classic fit, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029193210AA0>
2025-09-03 19:48:44,157 [DEBUG] Got 6 objects back
2025-09-03 19:48:44,340 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:48:44,340 [DEBUG] Running hybrid search with query=black tailored dress pants, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029193212CF0>
2025-09-03 19:48:44,837 [DEBUG] Got 6 objects back
2025-09-03 19:48:45,018 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:48:45,018 [DEBUG] Running hybrid search with query=dark brown monk strap shoes, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919323F770>
2025-09-03 19:48:45,523 [DEBUG] Got 6 objects back
2025-09-03 19:48:45,749 [DEBUG] Response sent
2025-09-03 19:51:47,485 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x0000029192834C80>
2025-09-03 19:51:47,486 [INFO] Processing request of type CallToolRequest
2025-09-03 19:51:47,486 [DEBUG] Dispatching request of type CallToolRequest
2025-09-03 19:51:47,486 [DEBUG] >>> estyl_retrieve called with args: {'mode': 'outfit', 'text_query': 'sexy old money style', 'gender': 'male', 'categories': ['suits'], 'search_with': 'Text', 'image_b64': None, 'brand_contains': None, 'budget': 300.0, 'limit': 10, 'topk_for_rerank': 5, 'exclude_ids': None, 'num_outfits': 5, 'articles': 3, 'per_cat_candidates': 3}
2025-09-03 19:51:47,486 [DEBUG] Resolved categories: ['Accessories', 'Shoes', 'Bottoms', 'Outerwear', 'Tops']
2025-09-03 19:51:47,486 [DEBUG] Estyl Outfit params: OutfitParams(text_query='sexy old money style', search_with='Text', image_b64=None, gender='male', brand_contains=None, budget=300.0, num_outfits=5, articles=3, per_cat_candidates=3)
2025-09-03 19:51:47,730 [DEBUG] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-5f16ec7e-845e-4698-85a9-ff3c1fde98d2', 'json_data': {'messages': [{'role': 'system', 'content': 'You output only valid JSON: a LIST of outfit objects keyed by your provided categories.'}, {'role': 'user', 'content': '\nCreate 5 outfit plans as a JSON LIST. Use these exact categories only:\n[\'Tops\', \'Bottoms\', \'Shoes\']\n\nConstraints:\n- Event: sexy old money style\n- Total budget (EUR): 300.0\n- Style/brand hints: \n\nOutput example (LIST):\n[\n  {"Tops": "white oxford shirt, slim fit", "Bottoms": "navy tailored trousers", "Shoes": "black leather oxford shoes"}\n]\n'}], 'model': 'gpt-4o-mini', 'temperature': 0.5}}
2025-09-03 19:51:47,730 [DEBUG] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-03 19:51:47,730 [DEBUG] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-03 19:51:47,786 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000029195471430>
2025-09-03 19:51:47,786 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x0000029194566C50> server_hostname='api.openai.com' timeout=5.0
2025-09-03 19:51:47,840 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002919462D5B0>
2025-09-03 19:51:47,840 [DEBUG] send_request_headers.started request=<Request [b'POST']>
2025-09-03 19:51:47,840 [DEBUG] send_request_headers.complete
2025-09-03 19:51:47,840 [DEBUG] send_request_body.started request=<Request [b'POST']>
2025-09-03 19:51:47,840 [DEBUG] send_request_body.complete
2025-09-03 19:51:47,840 [DEBUG] receive_response_headers.started request=<Request [b'POST']>
2025-09-03 19:51:53,071 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 03 Sep 2025 14:21:53 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'estyl'), (b'openai-processing-ms', b'4843'), (b'openai-project', b'proj_hW6ArBp4wnCsWuNcNn20BIGo'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'4851'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999890'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_6b0baa1642114210a10535cae67076ee'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=pjfzCVXmWPQ6LdHip_DO7TTQqXgPP.rIOBHQM1tcJ0o-1756909313-1.0.1.1-0vibL6b7fyc6hqsWGzELgTERSQROStegIxxIAKrCdtXrVSVAjyDXZ_Mt3NUyGeoYGE53BEcNB2nSOPQNMpNzJ76pe2XR5QNRMaLkjf0TvjI; path=/; expires=Wed, 03-Sep-25 14:51:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=FURZl8__i9KN_pUzS9gWdVaeUCAqDW2ipCv5WLhLA0U-1756909313171-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9795e5472d788b05-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-03 19:51:53,072 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 19:51:53,073 [DEBUG] receive_response_body.started request=<Request [b'POST']>
2025-09-03 19:51:53,073 [DEBUG] receive_response_body.complete
2025-09-03 19:51:53,073 [DEBUG] response_closed.started
2025-09-03 19:51:53,073 [DEBUG] response_closed.complete
2025-09-03 19:51:53,073 [DEBUG] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Wed, 03 Sep 2025 14:21:53 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'estyl'), ('openai-processing-ms', '4843'), ('openai-project', 'proj_hW6ArBp4wnCsWuNcNn20BIGo'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '4851'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999890'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_6b0baa1642114210a10535cae67076ee'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=pjfzCVXmWPQ6LdHip_DO7TTQqXgPP.rIOBHQM1tcJ0o-1756909313-1.0.1.1-0vibL6b7fyc6hqsWGzELgTERSQROStegIxxIAKrCdtXrVSVAjyDXZ_Mt3NUyGeoYGE53BEcNB2nSOPQNMpNzJ76pe2XR5QNRMaLkjf0TvjI; path=/; expires=Wed, 03-Sep-25 14:51:53 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=FURZl8__i9KN_pUzS9gWdVaeUCAqDW2ipCv5WLhLA0U-1756909313171-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9795e5472d788b05-BOM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-03 19:51:53,074 [DEBUG] request_id: req_6b0baa1642114210a10535cae67076ee
2025-09-03 19:51:53,075 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:51:53,075 [DEBUG] Running hybrid search with query=cream silk blouse, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919454A5A0>
2025-09-03 19:51:53,527 [DEBUG] Got 6 objects back
2025-09-03 19:51:53,692 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:51:53,692 [DEBUG] Running hybrid search with query=black high-waisted pencil skirt, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002918ABC3530>
2025-09-03 19:51:54,173 [DEBUG] Got 6 objects back
2025-09-03 19:51:54,372 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:51:54,372 [DEBUG] Running hybrid search with query=nude pointed toe heels, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194585A00>
2025-09-03 19:51:54,832 [DEBUG] Got 6 objects back
2025-09-03 19:51:55,028 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:51:55,028 [DEBUG] Running hybrid search with query=light blue cashmere sweater, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919323CC50>
2025-09-03 19:51:55,607 [DEBUG] Got 6 objects back
2025-09-03 19:51:55,623 [DEBUG] close.started
2025-09-03 19:51:55,627 [DEBUG] close.complete
2025-09-03 19:51:55,800 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:51:55,800 [DEBUG] Running hybrid search with query=beige tailored chinos, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029198AB7E30>
2025-09-03 19:51:56,233 [DEBUG] Got 6 objects back
2025-09-03 19:51:56,430 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:51:56,431 [DEBUG] Running hybrid search with query=brown leather loafers, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029192F670B0>
2025-09-03 19:51:56,891 [DEBUG] Got 6 objects back
2025-09-03 19:51:57,072 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:51:57,072 [DEBUG] Running hybrid search with query=black lace camisole, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029196BFF230>
2025-09-03 19:51:57,549 [DEBUG] Got 6 objects back
2025-09-03 19:51:57,737 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:51:57,738 [DEBUG] Running hybrid search with query=charcoal grey tailored trousers, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029198AB7050>
2025-09-03 19:51:58,170 [DEBUG] Got 6 objects back
2025-09-03 19:51:58,361 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:51:58,361 [DEBUG] Running hybrid search with query=black patent leather pumps, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194441A30>
2025-09-03 19:51:58,824 [DEBUG] Got 6 objects back
2025-09-03 19:51:59,022 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:51:59,022 [DEBUG] Running hybrid search with query=white fitted turtleneck, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919462D0A0>
2025-09-03 19:51:59,612 [DEBUG] Got 6 objects back
2025-09-03 19:51:59,800 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:51:59,800 [DEBUG] Running hybrid search with query=burgundy pleated midi skirt, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029193210BF0>
2025-09-03 19:52:00,256 [DEBUG] Got 6 objects back
2025-09-03 19:52:00,441 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:52:00,441 [DEBUG] Running hybrid search with query=tan ankle strap heels, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194339BB0>
2025-09-03 19:52:00,951 [DEBUG] Got 6 objects back
2025-09-03 19:52:01,126 [DEBUG] Category 'Tops' budget bounds: 19.8 - 66.0 (cap: 85.71428571428571) | (budget: 300.0, weight: 0.22)
2025-09-03 19:52:01,126 [DEBUG] Running hybrid search with query=ivory wrap blouse, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x00000291931C6D20>
2025-09-03 19:52:01,561 [DEBUG] Got 6 objects back
2025-09-03 19:52:01,725 [DEBUG] Category 'Bottoms' budget bounds: 22.5 - 75.0 (cap: 97.40259740259741) | (budget: 300.0, weight: 0.25)
2025-09-03 19:52:01,725 [DEBUG] Running hybrid search with query=dark green wide-leg pants, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029196BFF8C0>
2025-09-03 19:52:02,307 [DEBUG] Got 6 objects back
2025-09-03 19:52:02,475 [DEBUG] Category 'Shoes' budget bounds: 27.0 - 90.0 (cap: 116.88311688311687) | (budget: 300.0, weight: 0.3)
2025-09-03 19:52:02,475 [DEBUG] Running hybrid search with query=gold metallic sandals, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194587D70>
2025-09-03 19:52:02,961 [DEBUG] Got 6 objects back
2025-09-03 19:52:03,133 [DEBUG] Response sent
2025-09-03 19:53:28,031 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x0000029195464A70>
2025-09-03 19:53:28,031 [INFO] Processing request of type CallToolRequest
2025-09-03 19:53:28,031 [DEBUG] Dispatching request of type CallToolRequest
2025-09-03 19:53:28,031 [DEBUG] Response sent
2025-09-03 19:54:01,507 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x000002919253AE70>
2025-09-03 19:54:01,508 [INFO] Processing request of type CallToolRequest
2025-09-03 19:54:01,508 [DEBUG] Dispatching request of type CallToolRequest
2025-09-03 19:54:01,509 [DEBUG] >>> estyl_retrieve called with args: {'mode': 'outfit', 'text_query': 'wedding outfits for women', 'gender': 'female', 'categories': ['dresses', 'shoes', 'accessories'], 'search_with': 'Text', 'image_b64': None, 'brand_contains': None, 'budget': 200.0, 'limit': 10, 'topk_for_rerank': 5, 'exclude_ids': None, 'num_outfits': 5, 'articles': 3, 'per_cat_candidates': 3}
2025-09-03 19:54:01,509 [DEBUG] Resolved categories: ['Accessories', 'Shoes']
2025-09-03 19:54:01,509 [DEBUG] Estyl Outfit params: OutfitParams(text_query='wedding outfits for women', search_with='Text', image_b64=None, gender='female', brand_contains=None, budget=200.0, num_outfits=5, articles=3, per_cat_candidates=3)
2025-09-03 19:54:01,744 [DEBUG] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-652dc69c-2eb8-4a87-b45b-e964e062242a', 'json_data': {'messages': [{'role': 'system', 'content': 'You output only valid JSON: a LIST of outfit objects keyed by your provided categories.'}, {'role': 'user', 'content': '\nCreate 5 outfit plans as a JSON LIST. Use these exact categories only:\n[\'Tops\', \'Bottoms\', \'Shoes\']\n\nConstraints:\n- Event: wedding outfits for women\n- Total budget (EUR): 200.0\n- Style/brand hints: \n\nOutput example (LIST):\n[\n  {"Tops": "white oxford shirt, slim fit", "Bottoms": "navy tailored trousers", "Shoes": "black leather oxford shoes"}\n]\n'}], 'model': 'gpt-4o-mini', 'temperature': 0.5}}
2025-09-03 19:54:01,744 [DEBUG] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-03 19:54:01,744 [DEBUG] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-03 19:54:01,800 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002919474EAE0>
2025-09-03 19:54:01,801 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x000002919450FBD0> server_hostname='api.openai.com' timeout=5.0
2025-09-03 19:54:01,837 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000029195464F50>
2025-09-03 19:54:01,837 [DEBUG] send_request_headers.started request=<Request [b'POST']>
2025-09-03 19:54:01,837 [DEBUG] send_request_headers.complete
2025-09-03 19:54:01,837 [DEBUG] send_request_body.started request=<Request [b'POST']>
2025-09-03 19:54:01,837 [DEBUG] send_request_body.complete
2025-09-03 19:54:01,838 [DEBUG] receive_response_headers.started request=<Request [b'POST']>
2025-09-03 19:54:06,409 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 03 Sep 2025 14:24:06 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'estyl'), (b'openai-processing-ms', b'4241'), (b'openai-project', b'proj_hW6ArBp4wnCsWuNcNn20BIGo'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'4245'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999887'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_498c52e60d664950b9ba67cddc3ca204'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=MD_f9h72ZT7TJss4SnM5e.RgRvExAL00cq9O0_6mCiU-1756909446-1.0.1.1-6lelmIKRUiVli5uzvFY2BxFT5wKKhrKi2GRsh1GqskGAdtkfXkDtwq9iUMzY8d_mcTZR69CRy5OQa.mFM6LTXEwn92nMsG3x.6pdixbq3NQ; path=/; expires=Wed, 03-Sep-25 14:54:06 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=LVyFOEfBlwhSiTcoMUiSJoLKO91wJJrd5OryhDDHDbc-1756909446566-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9795e88cae9889f0-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-03 19:54:06,411 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 19:54:06,411 [DEBUG] receive_response_body.started request=<Request [b'POST']>
2025-09-03 19:54:06,411 [DEBUG] receive_response_body.complete
2025-09-03 19:54:06,411 [DEBUG] response_closed.started
2025-09-03 19:54:06,411 [DEBUG] response_closed.complete
2025-09-03 19:54:06,411 [DEBUG] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Wed, 03 Sep 2025 14:24:06 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'estyl'), ('openai-processing-ms', '4241'), ('openai-project', 'proj_hW6ArBp4wnCsWuNcNn20BIGo'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '4245'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999887'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_498c52e60d664950b9ba67cddc3ca204'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=MD_f9h72ZT7TJss4SnM5e.RgRvExAL00cq9O0_6mCiU-1756909446-1.0.1.1-6lelmIKRUiVli5uzvFY2BxFT5wKKhrKi2GRsh1GqskGAdtkfXkDtwq9iUMzY8d_mcTZR69CRy5OQa.mFM6LTXEwn92nMsG3x.6pdixbq3NQ; path=/; expires=Wed, 03-Sep-25 14:54:06 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=LVyFOEfBlwhSiTcoMUiSJoLKO91wJJrd5OryhDDHDbc-1756909446566-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9795e88cae9889f0-BOM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-03 19:54:06,411 [DEBUG] request_id: req_498c52e60d664950b9ba67cddc3ca204
2025-09-03 19:54:06,412 [DEBUG] Category 'Tops' budget bounds: 13.2 - 44.0 (cap: 57.14285714285714) | (budget: 200.0, weight: 0.22)
2025-09-03 19:54:06,413 [DEBUG] Running hybrid search with query=light pink lace blouse, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029195465190>
2025-09-03 19:54:06,891 [DEBUG] Got 6 objects back
2025-09-03 19:54:07,057 [DEBUG] Category 'Bottoms' budget bounds: 15.0 - 50.0 (cap: 64.93506493506493) | (budget: 200.0, weight: 0.25)
2025-09-03 19:54:07,057 [DEBUG] Running hybrid search with query=cream midi skirt, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029195467BF0>
2025-09-03 19:54:07,722 [DEBUG] Got 6 objects back
2025-09-03 19:54:07,902 [DEBUG] Category 'Shoes' budget bounds: 18.0 - 60.0 (cap: 77.92207792207792) | (budget: 200.0, weight: 0.3)
2025-09-03 19:54:07,902 [DEBUG] Running hybrid search with query=nude block heel sandals, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x00000291945876B0>
2025-09-03 19:54:08,407 [DEBUG] Got 6 objects back
2025-09-03 19:54:08,585 [DEBUG] Category 'Tops' budget bounds: 13.2 - 44.0 (cap: 57.14285714285714) | (budget: 200.0, weight: 0.22)
2025-09-03 19:54:08,585 [DEBUG] Running hybrid search with query=ivory satin camisole, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x00000291956ECFB0>
2025-09-03 19:54:09,020 [DEBUG] Got 6 objects back
2025-09-03 19:54:09,214 [DEBUG] Category 'Bottoms' budget bounds: 15.0 - 50.0 (cap: 64.93506493506493) | (budget: 200.0, weight: 0.25)
2025-09-03 19:54:09,214 [DEBUG] Running hybrid search with query=black high-waisted palazzo pants, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029195467EC0>
2025-09-03 19:54:09,727 [DEBUG] Got 6 objects back
2025-09-03 19:54:09,920 [DEBUG] Category 'Shoes' budget bounds: 18.0 - 60.0 (cap: 77.92207792207792) | (budget: 200.0, weight: 0.3)
2025-09-03 19:54:09,920 [DEBUG] Running hybrid search with query=silver strappy heels, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029194442F30>
2025-09-03 19:54:10,371 [DEBUG] Got 6 objects back
2025-09-03 19:54:10,560 [DEBUG] Category 'Tops' budget bounds: 13.2 - 44.0 (cap: 57.14285714285714) | (budget: 200.0, weight: 0.22)
2025-09-03 19:54:10,560 [DEBUG] Running hybrid search with query=floral wrap top, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029196BFF6E0>
2025-09-03 19:54:11,034 [DEBUG] Got 6 objects back
2025-09-03 19:54:11,226 [DEBUG] Category 'Bottoms' budget bounds: 15.0 - 50.0 (cap: 64.93506493506493) | (budget: 200.0, weight: 0.25)
2025-09-03 19:54:11,226 [DEBUG] Running hybrid search with query=dark green A-line skirt, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919462F500>
2025-09-03 19:54:11,678 [DEBUG] Got 6 objects back
2025-09-03 19:54:11,880 [DEBUG] Category 'Shoes' budget bounds: 18.0 - 60.0 (cap: 77.92207792207792) | (budget: 200.0, weight: 0.3)
2025-09-03 19:54:11,880 [DEBUG] Running hybrid search with query=beige ankle strap pumps, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919454BD40>
2025-09-03 19:54:12,349 [DEBUG] Got 6 objects back
2025-09-03 19:54:12,547 [DEBUG] Category 'Tops' budget bounds: 13.2 - 44.0 (cap: 57.14285714285714) | (budget: 200.0, weight: 0.22)
2025-09-03 19:54:12,547 [DEBUG] Running hybrid search with query=black off-shoulder top, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x00000291928F5370>
2025-09-03 19:54:13,066 [DEBUG] Got 6 objects back
2025-09-03 19:54:13,236 [DEBUG] Category 'Bottoms' budget bounds: 15.0 - 50.0 (cap: 64.93506493506493) | (budget: 200.0, weight: 0.25)
2025-09-03 19:54:13,236 [DEBUG] Running hybrid search with query=red pencil skirt, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029195471040>
2025-09-03 19:54:13,674 [DEBUG] Got 6 objects back
2025-09-03 19:54:13,851 [DEBUG] Category 'Shoes' budget bounds: 18.0 - 60.0 (cap: 77.92207792207792) | (budget: 200.0, weight: 0.3)
2025-09-03 19:54:13,851 [DEBUG] Running hybrid search with query=black stiletto heels, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919454B560>
2025-09-03 19:54:14,336 [DEBUG] Got 6 objects back
2025-09-03 19:54:14,529 [DEBUG] Category 'Tops' budget bounds: 13.2 - 44.0 (cap: 57.14285714285714) | (budget: 200.0, weight: 0.22)
2025-09-03 19:54:14,529 [DEBUG] Running hybrid search with query=blue chiffon blouse, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x0000029198370530>
2025-09-03 19:54:14,969 [DEBUG] Got 6 objects back
2025-09-03 19:54:15,150 [DEBUG] Category 'Bottoms' budget bounds: 15.0 - 50.0 (cap: 64.93506493506493) | (budget: 200.0, weight: 0.25)
2025-09-03 19:54:15,150 [DEBUG] Running hybrid search with query=white tailored trousers, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x00000291954711F0>
2025-09-03 19:54:15,600 [DEBUG] Got 6 objects back
2025-09-03 19:54:15,782 [DEBUG] Category 'Shoes' budget bounds: 18.0 - 60.0 (cap: 77.92207792207792) | (budget: 200.0, weight: 0.3)
2025-09-03 19:54:15,782 [DEBUG] Running hybrid search with query=metallic espadrille wedges, limit=6, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000002919454BCB0>
2025-09-03 19:54:16,236 [DEBUG] Got 6 objects back
2025-09-03 19:54:16,415 [DEBUG] Response sent
