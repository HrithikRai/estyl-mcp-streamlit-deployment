2025-09-04 02:10:32,715 [DEBUG] Initializing server 'Estyl Retriever'
2025-09-04 02:10:32,715 [DEBUG] Registering handler for ListToolsRequest
2025-09-04 02:10:32,715 [DEBUG] Registering handler for CallToolRequest
2025-09-04 02:10:32,715 [DEBUG] Registering handler for ListResourcesRequest
2025-09-04 02:10:32,715 [DEBUG] Registering handler for ReadResourceRequest
2025-09-04 02:10:32,715 [DEBUG] Registering handler for PromptListRequest
2025-09-04 02:10:32,715 [DEBUG] Registering handler for GetPromptRequest
2025-09-04 02:10:32,715 [DEBUG] Registering handler for ListResourceTemplatesRequest
2025-09-04 02:10:32,726 [DEBUG] Using proactor: IocpProactor
2025-09-04 02:10:32,748 [DEBUG] Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-09-04 02:10:32,748 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x000001D53661D070>
2025-09-04 02:10:32,748 [INFO] Processing request of type ListToolsRequest
2025-09-04 02:10:32,748 [DEBUG] Dispatching request of type ListToolsRequest
2025-09-04 02:10:32,748 [DEBUG] Response sent
2025-09-04 02:10:52,999 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x000001D53648D970>
2025-09-04 02:10:53,000 [INFO] Processing request of type CallToolRequest
2025-09-04 02:10:53,000 [DEBUG] Dispatching request of type CallToolRequest
2025-09-04 02:10:53,000 [DEBUG] >>> estyl_retrieve called with args: {'mode': 'single', 'text_query': 'cool tees', 'gender': 'unisex', 'categories': ['t-shirts'], 'search_with': 'Text', 'image_b64': None, 'brand_contains': None, 'budget': 40.0, 'limit': 10, 'topk_for_rerank': 5, 'exclude_ids': None, 'num_outfits': 5, 'articles': 3, 'per_cat_candidates': 3}
2025-09-04 02:10:53,000 [DEBUG] Resolved categories: ['Tops']
2025-09-04 02:10:53,000 [DEBUG] Estyl Single params: SingleSearchParams(text_query='cool tees', search_with='Text', image_b64=None, gender='unisex', categories=['Tops'], brand_contains=None, budget=40.0, limit=10, topk_for_rerank=5, exclude_ids=None)
2025-09-04 02:10:53,003 [DEBUG] Starting new HTTPS connection (1): huggingface.co:443
2025-09-04 02:10:53,701 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/main/config.json HTTP/1.1" 307 0
2025-09-04 02:10:53,763 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/openai/clip-vit-base-patch32/3d74acf9a28c67741b2f4f2ea7635f0aaf6f0268/config.json HTTP/1.1" 200 0
2025-09-04 02:10:54,009 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/main/config.json HTTP/1.1" 307 0
2025-09-04 02:10:54,111 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/openai/clip-vit-base-patch32/3d74acf9a28c67741b2f4f2ea7635f0aaf6f0268/config.json HTTP/1.1" 200 0
2025-09-04 02:10:54,401 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/main/model.safetensors HTTP/1.1" 404 0
2025-09-04 02:10:54,406 [DEBUG] Starting new HTTPS connection (1): huggingface.co:443
2025-09-04 02:10:55,137 [DEBUG] https://huggingface.co:443 "GET /api/models/openai/clip-vit-base-patch32 HTTP/1.1" 200 4976
2025-09-04 02:10:55,248 [DEBUG] https://huggingface.co:443 "GET /api/models/openai/clip-vit-base-patch32/revision/main HTTP/1.1" 200 4976
2025-09-04 02:10:55,442 [DEBUG] https://huggingface.co:443 "GET /api/models/openai/clip-vit-base-patch32/commits/main HTTP/1.1" 200 4272
2025-09-04 02:10:55,545 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-09-04 02:10:55,646 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/openai/clip-vit-base-patch32/3d74acf9a28c67741b2f4f2ea7635f0aaf6f0268/tokenizer_config.json HTTP/1.1" 200 0
2025-09-04 02:10:55,752 [DEBUG] https://huggingface.co:443 "GET /api/models/openai/clip-vit-base-patch32/discussions?p=0 HTTP/1.1" 200 33539
2025-09-04 02:10:55,955 [DEBUG] https://huggingface.co:443 "GET /api/models/openai/clip-vit-base-patch32/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-09-04 02:10:56,047 [DEBUG] https://huggingface.co:443 "GET /api/models/openai/clip-vit-base-patch32/commits/refs%2Fpr%2F62 HTTP/1.1" 200 5237
2025-09-04 02:10:56,365 [DEBUG] https://huggingface.co:443 "GET /api/models/openai/clip-vit-base-patch32/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-09-04 02:10:56,365 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/refs%2Fpr%2F62/model.safetensors.index.json HTTP/1.1" 404 0
2025-09-04 02:10:56,601 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/main/processor_config.json HTTP/1.1" 404 0
2025-09-04 02:10:56,601 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/refs%2Fpr%2F62/model.safetensors HTTP/1.1" 302 0
2025-09-04 02:10:56,978 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/main/chat_template.json HTTP/1.1" 404 0
2025-09-04 02:10:57,285 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/main/chat_template.jinja HTTP/1.1" 404 0
2025-09-04 02:10:57,592 [DEBUG] https://huggingface.co:443 "HEAD /openai/clip-vit-base-patch32/resolve/main/audio_tokenizer_config.json HTTP/1.1" 404 0
2025-09-04 02:10:58,101 [DEBUG] connect_tcp.started host='unv2yy07qfybxgvelndplw.c0.europe-west3.gcp.weaviate.cloud' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-04 02:10:58,206 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D536759A60>
2025-09-04 02:10:58,206 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D536866ED0> server_hostname='unv2yy07qfybxgvelndplw.c0.europe-west3.gcp.weaviate.cloud' timeout=5.0
2025-09-04 02:10:58,306 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D53672CA40>
2025-09-04 02:10:58,306 [DEBUG] send_request_headers.started request=<Request [b'GET']>
2025-09-04 02:10:58,306 [DEBUG] send_request_headers.complete
2025-09-04 02:10:58,306 [DEBUG] send_request_body.started request=<Request [b'GET']>
2025-09-04 02:10:58,306 [DEBUG] send_request_body.complete
2025-09-04 02:10:58,306 [DEBUG] receive_response_headers.started request=<Request [b'GET']>
2025-09-04 02:10:58,818 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'access-control-allow-headers', b'Content-Type, Authorization, Batch, X-Openai-Api-Key, X-Openai-Organization, X-Openai-Baseurl, X-Anyscale-Baseurl, X-Anyscale-Api-Key, X-Cohere-Api-Key, X-Cohere-Baseurl, X-Huggingface-Api-Key, X-Azure-Api-Key, X-Azure-Deployment-Id, X-Azure-Resource-Name, X-Azure-Concurrency, X-Azure-Block-Size, X-Google-Api-Key, X-Google-Vertex-Api-Key, X-Google-Studio-Api-Key, X-Goog-Api-Key, X-Goog-Vertex-Api-Key, X-Goog-Studio-Api-Key, X-Palm-Api-Key, X-Jinaai-Api-Key, X-Aws-Access-Key, X-Aws-Secret-Key, X-Voyageai-Baseurl, X-Voyageai-Api-Key, X-Mistral-Baseurl, X-Mistral-Api-Key, X-Anthropic-Baseurl, X-Anthropic-Api-Key, X-Databricks-Endpoint, X-Databricks-Token, X-Databricks-User-Agent, X-Friendli-Token, X-Friendli-Baseurl, X-Weaviate-Api-Key, X-Weaviate-Cluster-Url, X-Nvidia-Api-Key, X-Nvidia-Baseurl'), (b'access-control-allow-methods', b'*'), (b'access-control-allow-origin', b'*'), (b'content-type', b'application/json'), (b'vary', b'Origin'), (b'date', b'Wed, 03 Sep 2025 20:40:58 GMT'), (b'x-envoy-upstream-service-time', b'6'), (b'server', b'istio-envoy'), (b'Via', b'1.1 google'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-09-04 02:10:58,818 [INFO] HTTP Request: GET https://unv2yy07qfybxgvelndplw.c0.europe-west3.gcp.weaviate.cloud/v1/meta "HTTP/1.1 200 OK"
2025-09-04 02:10:58,818 [DEBUG] receive_response_body.started request=<Request [b'GET']>
2025-09-04 02:10:58,818 [DEBUG] receive_response_body.complete
2025-09-04 02:10:58,818 [DEBUG] response_closed.started
2025-09-04 02:10:58,818 [DEBUG] response_closed.complete
2025-09-04 02:10:59,937 [DEBUG] connect_tcp.started host='pypi.org' port=443 local_address=None timeout=2 socket_options=None
2025-09-04 02:11:00,046 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D5367FC920>
2025-09-04 02:11:00,046 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D5368675D0> server_hostname='pypi.org' timeout=2
2025-09-04 02:11:00,154 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D536842FF0>
2025-09-04 02:11:00,154 [DEBUG] send_request_headers.started request=<Request [b'GET']>
2025-09-04 02:11:00,155 [DEBUG] send_request_headers.complete
2025-09-04 02:11:00,155 [DEBUG] send_request_body.started request=<Request [b'GET']>
2025-09-04 02:11:00,155 [DEBUG] send_request_body.complete
2025-09-04 02:11:00,155 [DEBUG] receive_response_headers.started request=<Request [b'GET']>
2025-09-04 02:11:00,257 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'75363'), (b'access-control-expose-headers', b'X-PyPI-Last-Serial'), (b'cache-control', b'max-age=900, public'), (b'referrer-policy', b'origin-when-cross-origin'), (b'access-control-max-age', b'86400'), (b'access-control-allow-methods', b'GET'), (b'content-type', b'application/json'), (b'access-control-allow-headers', b'Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since'), (b'access-control-allow-origin', b'*'), (b'content-encoding', b'gzip'), (b'etag', b'"kJtVU93hEX/WQFTLfYLa5A"'), (b'x-pypi-last-serial', b'31028467'), (b'content-security-policy', b"base-uri 'self'; connect-src 'self' https://api.github.com/repos/ https://api.github.com/search/issues https://gitlab.com/api/ https://analytics.python.org fastly-insights.com *.fastly-insights.com *.ethicalads.io https://api.pwnedpasswords.com https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/sre/mathmaps/ https://2p66nmmycsj3.statuspage.io; default-src 'none'; font-src 'self' fonts.gstatic.com; form-action 'self' https://checkout.stripe.com https://billing.stripe.com; frame-ancestors 'none'; frame-src 'none'; img-src 'self' https://pypi-camo.freetls.fastly.net/ *.fastly-insights.com *.ethicalads.io ethicalads.blob.core.windows.net; script-src 'self' https://analytics.python.org *.fastly-insights.com *.ethicalads.io 'sha256-U3hKDidudIaxBDEzwGJApJgPEf2mWk6cfMWghrAa6i0=' https://cdn.jsdelivr.net/npm/mathjax@3.2.2/ 'sha256-1CldwzdEg2k1wTmf7s5RWVd7NMXI/7nxxjJM2C4DqII=' 'sha256-0POaN8stWYQxhzjKS+/eOfbbJ/u4YHO5ZagJvLpMypo='; style-src 'self' fonts.googleapis.com *.ethicalads.io 'sha256-2YHqZokjiizkHi1Zt+6ar0XJ0OeEy/egBnlm+MDMtrM=' 'sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=' 'sha256-JLEjeN9e5dGsz5475WyRaoA4eQOdNPxDIeUhclnJDCE=' 'sha256-mQyxHEuwZJqpxCw3SLmc4YOySNKXunyu2Oiz1r3/wAE=' 'sha256-OCf+kv5Asiwp++8PIevKBYSgnNLNUZvxAp4a7wMLuKA=' 'sha256-h5LOiLhk6wiJrGsG5ItM0KimwzWQH/yAcmoJDJL//bY='; worker-src *.fastly-insights.com"), (b'Accept-Ranges', b'bytes'), (b'Date', b'Wed, 03 Sep 2025 20:41:00 GMT'), (b'X-Served-By', b'cache-iad-kjyo7100074-IAD, cache-iad-kjyo7100041-IAD, cache-hyd1100031-HYD'), (b'X-Cache', b'MISS, HIT, HIT'), (b'X-Cache-Hits', b'0, 843, 233'), (b'X-Timer', b'S1756932060.328649,VS0,VE0'), (b'Vary', b'Accept-Encoding'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Permitted-Cross-Domain-Policies', b'none'), (b'Permissions-Policy', b'publickey-credentials-create=(self),publickey-credentials-get=(self),accelerometer=(),ambient-light-sensor=(),autoplay=(),battery=(),camera=(),display-capture=(),document-domain=(),encrypted-media=(),execution-while-not-rendered=(),execution-while-out-of-viewport=(),fullscreen=(),gamepad=(),geolocation=(),gyroscope=(),hid=(),identity-credentials-get=(),idle-detection=(),local-fonts=(),magnetometer=(),microphone=(),midi=(),otp-credentials=(),payment=(),picture-in-picture=(),screen-wake-lock=(),serial=(),speaker-selection=(),storage-access=(),usb=(),web-share=(),xr-spatial-tracking=()')])
2025-09-04 02:11:00,257 [INFO] HTTP Request: GET https://pypi.org/pypi/weaviate-client/json "HTTP/1.1 200 OK"
2025-09-04 02:11:00,257 [DEBUG] receive_response_body.started request=<Request [b'GET']>
2025-09-04 02:11:00,359 [DEBUG] receive_response_body.complete
2025-09-04 02:11:00,359 [DEBUG] response_closed.started
2025-09-04 02:11:00,359 [DEBUG] response_closed.complete
2025-09-04 02:11:00,359 [DEBUG] close.started
2025-09-04 02:11:00,361 [DEBUG] close.complete
2025-09-04 02:11:00,364 [DEBUG] Running hybrid search with query=cool tees, limit=10, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5357330E0>
2025-09-04 02:11:00,917 [DEBUG] Got 10 objects back
2025-09-04 02:11:01,175 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/config.json HTTP/1.1" 307 0
2025-09-04 02:11:01,278 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/patrickjohncyh/fashion-clip/7e3ba62ce16b379a1ab479346b66f192e76f51b7/config.json HTTP/1.1" 200 0
2025-09-04 02:11:01,584 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/config.json HTTP/1.1" 307 0
2025-09-04 02:11:01,686 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/patrickjohncyh/fashion-clip/7e3ba62ce16b379a1ab479346b66f192e76f51b7/config.json HTTP/1.1" 200 0
2025-09-04 02:11:02,099 [DEBUG] https://huggingface.co:443 "GET /api/models/patrickjohncyh/fashion-clip/revision/main HTTP/1.1" 200 3495
2025-09-04 02:11:02,406 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-09-04 02:11:02,508 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/patrickjohncyh/fashion-clip/7e3ba62ce16b379a1ab479346b66f192e76f51b7/tokenizer_config.json HTTP/1.1" 200 0
2025-09-04 02:11:02,815 [DEBUG] https://huggingface.co:443 "GET /api/models/patrickjohncyh/fashion-clip/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-09-04 02:11:03,225 [DEBUG] https://huggingface.co:443 "GET /api/models/patrickjohncyh/fashion-clip/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-09-04 02:11:03,526 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/processor_config.json HTTP/1.1" 404 0
2025-09-04 02:11:03,850 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/chat_template.json HTTP/1.1" 404 0
2025-09-04 02:11:04,086 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/chat_template.jinja HTTP/1.1" 404 0
2025-09-04 02:11:04,352 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/audio_tokenizer_config.json HTTP/1.1" 404 0
2025-09-04 02:11:04,730 [DEBUG] https://huggingface.co:443 "HEAD /patrickjohncyh/fashion-clip/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-09-04 02:11:04,755 [DEBUG] https://huggingface.co:443 "HEAD /api/resolve-cache/models/patrickjohncyh/fashion-clip/7e3ba62ce16b379a1ab479346b66f192e76f51b7/tokenizer_config.json HTTP/1.1" 200 0
2025-09-04 02:11:05,068 [DEBUG] https://huggingface.co:443 "GET /api/models/patrickjohncyh/fashion-clip/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-09-04 02:11:05,490 [DEBUG] Response sent
2025-09-04 02:11:40,809 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x000001D55CCE0050>
2025-09-04 02:11:40,809 [INFO] Processing request of type CallToolRequest
2025-09-04 02:11:40,809 [DEBUG] Dispatching request of type CallToolRequest
2025-09-04 02:11:40,809 [DEBUG] >>> estyl_retrieve called with args: {'mode': 'single', 'text_query': 'cool pants', 'gender': 'unisex', 'categories': ['pants'], 'search_with': 'Text', 'image_b64': None, 'brand_contains': None, 'budget': 40.0, 'limit': 10, 'topk_for_rerank': 5, 'exclude_ids': None, 'num_outfits': 5, 'articles': 3, 'per_cat_candidates': 3}
2025-09-04 02:11:40,809 [DEBUG] Resolved categories: ['Bottoms']
2025-09-04 02:11:40,809 [DEBUG] Estyl Single params: SingleSearchParams(text_query='cool pants', search_with='Text', image_b64=None, gender='unisex', categories=['Bottoms'], brand_contains=None, budget=40.0, limit=10, topk_for_rerank=5, exclude_ids=None)
2025-09-04 02:11:40,854 [DEBUG] Running hybrid search with query=cool pants, limit=10, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D536717B00>
2025-09-04 02:11:41,346 [DEBUG] Got 9 objects back
2025-09-04 02:11:41,605 [DEBUG] Response sent
2025-09-04 02:12:16,854 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x000001D5367FFA10>
2025-09-04 02:12:16,854 [INFO] Processing request of type CallToolRequest
2025-09-04 02:12:16,855 [DEBUG] Dispatching request of type CallToolRequest
2025-09-04 02:12:16,855 [DEBUG] >>> estyl_retrieve called with args: {'mode': 'outfit', 'text_query': 'wedding outfit', 'gender': 'female', 'categories': ['dresses', 'shoes', 'accessories', 'bags', 'jewelry'], 'search_with': 'Text', 'image_b64': None, 'brand_contains': None, 'budget': 400.0, 'limit': 10, 'topk_for_rerank': 5, 'exclude_ids': None, 'num_outfits': 5, 'articles': 5, 'per_cat_candidates': 3}
2025-09-04 02:12:16,855 [DEBUG] Resolved categories: ['Accessories', 'Bags', 'Shoes']
2025-09-04 02:12:16,855 [DEBUG] Estyl Outfit params: OutfitParams(text_query='wedding outfit', search_with='Text', image_b64=None, gender='female', brand_contains=None, budget=400.0, num_outfits=5, articles=5, per_cat_candidates=3)
2025-09-04 02:12:17,495 [DEBUG] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-ccc315b5-c7f0-4952-9ee3-ff40b4b06e20', 'json_data': {'messages': [{'role': 'system', 'content': 'You output only valid JSON: a LIST of outfit objects keyed by your provided categories.'}, {'role': 'user', 'content': '\nCreate 5 outfit plans as a JSON LIST. Use these exact categories only:\n[\'Tops\', \'Bottoms\', \'Shoes\', \'Outerwear\', \'Accessories\']\n\nConstraints:\n- Event: wedding outfit\n- Total budget (EUR): 400.0\n- Style/brand hints: \n\nOutput example (LIST):\n[\n  {"Tops": "white oxford shirt, slim fit", "Bottoms": "navy tailored trousers", "Shoes": "black leather oxford shoes"}\n]\n'}], 'model': 'gpt-4o-mini', 'temperature': 0.5}}
2025-09-04 02:12:17,572 [DEBUG] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-04 02:12:17,572 [DEBUG] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-04 02:12:17,679 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D55CBF9280>
2025-09-04 02:12:17,679 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D55B012FD0> server_hostname='api.openai.com' timeout=5.0
2025-09-04 02:12:17,756 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D55CB32300>
2025-09-04 02:12:17,756 [DEBUG] send_request_headers.started request=<Request [b'POST']>
2025-09-04 02:12:17,757 [DEBUG] send_request_headers.complete
2025-09-04 02:12:17,757 [DEBUG] send_request_body.started request=<Request [b'POST']>
2025-09-04 02:12:17,757 [DEBUG] send_request_body.complete
2025-09-04 02:12:17,757 [DEBUG] receive_response_headers.started request=<Request [b'POST']>
2025-09-04 02:12:23,796 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 03 Sep 2025 20:42:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'estyl'), (b'openai-processing-ms', b'5597'), (b'openai-project', b'proj_hW6ArBp4wnCsWuNcNn20BIGo'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'5600'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999885'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_c9f03f4035484bdcbdd80ed0b05bf5fa'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=SOxQAhPm7cixS8x1a6NOlYA9OVOIbfz1hJ.YBrslDT4-1756932143-1.0.1.1-lue.2sRM.EgRV0kXjgYo9wDP91zGIo55UH9z37SfIzvuSqZOqVr3qZfSYsAApzN7Z58riADGSBCRdnl9OKwXgdeEVLWH9BnfieApWGlvD1A; path=/; expires=Wed, 03-Sep-25 21:12:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=szBoqCM2lATs2OdIN12qwCFJ0sphNFmN3jXGy_zsB6M-1756932143952-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'979812a61aad8af9-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-04 02:12:23,797 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 02:12:23,797 [DEBUG] receive_response_body.started request=<Request [b'POST']>
2025-09-04 02:12:23,799 [DEBUG] receive_response_body.complete
2025-09-04 02:12:23,799 [DEBUG] response_closed.started
2025-09-04 02:12:23,799 [DEBUG] response_closed.complete
2025-09-04 02:12:23,799 [DEBUG] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Wed, 03 Sep 2025 20:42:23 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'estyl'), ('openai-processing-ms', '5597'), ('openai-project', 'proj_hW6ArBp4wnCsWuNcNn20BIGo'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '5600'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999885'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_c9f03f4035484bdcbdd80ed0b05bf5fa'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=SOxQAhPm7cixS8x1a6NOlYA9OVOIbfz1hJ.YBrslDT4-1756932143-1.0.1.1-lue.2sRM.EgRV0kXjgYo9wDP91zGIo55UH9z37SfIzvuSqZOqVr3qZfSYsAApzN7Z58riADGSBCRdnl9OKwXgdeEVLWH9BnfieApWGlvD1A; path=/; expires=Wed, 03-Sep-25 21:12:23 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=szBoqCM2lATs2OdIN12qwCFJ0sphNFmN3jXGy_zsB6M-1756932143952-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '979812a61aad8af9-BOM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-04 02:12:23,799 [DEBUG] request_id: req_c9f03f4035484bdcbdd80ed0b05bf5fa
2025-09-04 02:12:23,807 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:12:23,807 [DEBUG] Running hybrid search with query=wedding outfit Tops, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C72B1A0>
2025-09-04 02:12:24,429 [DEBUG] Got 5 objects back
2025-09-04 02:12:24,429 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:12:24,429 [DEBUG] Running hybrid search with query=Bottoms, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D536716090>
2025-09-04 02:12:24,903 [DEBUG] Got 5 objects back
2025-09-04 02:12:24,903 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:12:24,903 [DEBUG] Running hybrid search with query=Shoes, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C6C2180>
2025-09-04 02:12:25,448 [DEBUG] Got 5 objects back
2025-09-04 02:12:25,448 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:12:25,448 [DEBUG] Running hybrid search with query=Outerwear, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CA03560>
2025-09-04 02:12:26,066 [DEBUG] Got 5 objects back
2025-09-04 02:12:26,066 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:12:26,066 [DEBUG] Running hybrid search with query=Accessories, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C63ECF0>
2025-09-04 02:12:26,681 [DEBUG] Got 5 objects back
2025-09-04 02:12:26,682 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:12:26,682 [DEBUG] Running hybrid search with query=wedding outfit Tops, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D53661D490>
2025-09-04 02:12:27,139 [DEBUG] Got 5 objects back
2025-09-04 02:12:27,143 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:12:27,143 [DEBUG] Running hybrid search with query=Bottoms, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C8545C0>
2025-09-04 02:12:27,602 [DEBUG] Got 5 objects back
2025-09-04 02:12:27,602 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:12:27,602 [DEBUG] Running hybrid search with query=Shoes, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C6C2180>
2025-09-04 02:12:28,115 [DEBUG] Got 5 objects back
2025-09-04 02:12:28,115 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:12:28,115 [DEBUG] Running hybrid search with query=Outerwear, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CB56FC0>
2025-09-04 02:12:28,626 [DEBUG] Got 5 objects back
2025-09-04 02:12:28,626 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:12:28,626 [DEBUG] Running hybrid search with query=Accessories, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C72B1A0>
2025-09-04 02:12:29,138 [DEBUG] Got 5 objects back
2025-09-04 02:12:29,138 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:12:29,138 [DEBUG] Running hybrid search with query=wedding outfit Tops, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D53661DC10>
2025-09-04 02:12:29,598 [DEBUG] Got 5 objects back
2025-09-04 02:12:29,598 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:12:29,598 [DEBUG] Running hybrid search with query=Bottoms, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5367FFAA0>
2025-09-04 02:12:30,154 [DEBUG] Got 5 objects back
2025-09-04 02:12:30,155 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:12:30,155 [DEBUG] Running hybrid search with query=Shoes, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C6C2180>
2025-09-04 02:12:30,635 [DEBUG] Got 5 objects back
2025-09-04 02:12:30,635 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:12:30,635 [DEBUG] Running hybrid search with query=Outerwear, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55B0503E0>
2025-09-04 02:12:31,146 [DEBUG] Got 5 objects back
2025-09-04 02:12:31,146 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:12:31,146 [DEBUG] Running hybrid search with query=Accessories, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CB56FC0>
2025-09-04 02:12:31,615 [DEBUG] Got 5 objects back
2025-09-04 02:12:31,615 [DEBUG] Skipping outfit 2, all categories empty
2025-09-04 02:12:31,615 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:12:31,615 [DEBUG] Running hybrid search with query=wedding outfit Tops, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D536716090>
2025-09-04 02:12:32,108 [DEBUG] Got 5 objects back
2025-09-04 02:12:32,108 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:12:32,108 [DEBUG] Running hybrid search with query=Bottoms, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5367FFAA0>
2025-09-04 02:12:32,534 [DEBUG] Got 5 objects back
2025-09-04 02:12:32,535 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:12:32,535 [DEBUG] Running hybrid search with query=Shoes, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CB320C0>
2025-09-04 02:12:33,026 [DEBUG] Got 5 objects back
2025-09-04 02:12:33,026 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:12:33,026 [DEBUG] Running hybrid search with query=Outerwear, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C6C2180>
2025-09-04 02:12:33,542 [DEBUG] Got 5 objects back
2025-09-04 02:12:33,569 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:12:33,569 [DEBUG] Running hybrid search with query=Accessories, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CBFB950>
2025-09-04 02:12:34,015 [DEBUG] Got 5 objects back
2025-09-04 02:12:34,015 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:12:34,015 [DEBUG] Running hybrid search with query=wedding outfit Tops, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C63ECF0>
2025-09-04 02:12:34,560 [DEBUG] Got 5 objects back
2025-09-04 02:12:34,562 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:12:34,562 [DEBUG] Running hybrid search with query=Bottoms, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55B0503E0>
2025-09-04 02:12:35,075 [DEBUG] Got 5 objects back
2025-09-04 02:12:35,075 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:12:35,075 [DEBUG] Running hybrid search with query=Shoes, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D536716090>
2025-09-04 02:12:35,589 [DEBUG] Got 5 objects back
2025-09-04 02:12:35,589 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:12:35,589 [DEBUG] Running hybrid search with query=Outerwear, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CB33950>
2025-09-04 02:12:36,005 [DEBUG] Got 5 objects back
2025-09-04 02:12:36,005 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:12:36,005 [DEBUG] Running hybrid search with query=Accessories, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C63ECF0>
2025-09-04 02:12:36,446 [DEBUG] Got 5 objects back
2025-09-04 02:12:36,446 [DEBUG] Response sent
2025-09-04 02:14:48,871 [DEBUG] Received message: <mcp.shared.session.RequestResponder object at 0x000001D53644F230>
2025-09-04 02:14:48,871 [INFO] Processing request of type CallToolRequest
2025-09-04 02:14:48,871 [DEBUG] Dispatching request of type CallToolRequest
2025-09-04 02:14:48,871 [DEBUG] >>> estyl_retrieve called with args: {'mode': 'outfit', 'text_query': 'wedding outfit', 'gender': 'unisex', 'categories': ['dresses', 'suits', 'shoes', 'accessories', 'jewelry'], 'search_with': 'Text', 'image_b64': None, 'brand_contains': None, 'budget': 400.0, 'limit': 10, 'topk_for_rerank': 5, 'exclude_ids': None, 'num_outfits': 5, 'articles': 5, 'per_cat_candidates': 3}
2025-09-04 02:14:48,871 [DEBUG] Resolved categories: ['Accessories', 'Shoes']
2025-09-04 02:14:48,871 [DEBUG] Estyl Outfit params: OutfitParams(text_query='wedding outfit', search_with='Text', image_b64=None, gender='unisex', brand_contains=None, budget=400.0, num_outfits=5, articles=5, per_cat_candidates=3)
2025-09-04 02:14:49,124 [DEBUG] Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-e29d3a73-1600-4e0b-94d7-0657324cf73e', 'json_data': {'messages': [{'role': 'system', 'content': 'You output only valid JSON: a LIST of outfit objects keyed by your provided categories.'}, {'role': 'user', 'content': '\nCreate 5 outfit plans as a JSON LIST. Use these exact categories only:\n[\'Tops\', \'Bottoms\', \'Shoes\', \'Outerwear\', \'Accessories\']\n\nConstraints:\n- Event: wedding outfit\n- Total budget (EUR): 400.0\n- Style/brand hints: \n\nOutput example (LIST):\n[\n  {"Tops": "white oxford shirt, slim fit", "Bottoms": "navy tailored trousers", "Shoes": "black leather oxford shoes"}\n]\n'}], 'model': 'gpt-4o-mini', 'temperature': 0.5}}
2025-09-04 02:14:49,125 [DEBUG] Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-09-04 02:14:49,125 [DEBUG] connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-04 02:14:49,172 [DEBUG] connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D55CBFB620>
2025-09-04 02:14:49,172 [DEBUG] start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D53678F6D0> server_hostname='api.openai.com' timeout=5.0
2025-09-04 02:14:49,211 [DEBUG] start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D5605E9970>
2025-09-04 02:14:49,213 [DEBUG] send_request_headers.started request=<Request [b'POST']>
2025-09-04 02:14:49,213 [DEBUG] send_request_headers.complete
2025-09-04 02:14:49,213 [DEBUG] send_request_body.started request=<Request [b'POST']>
2025-09-04 02:14:49,213 [DEBUG] send_request_body.complete
2025-09-04 02:14:49,213 [DEBUG] receive_response_headers.started request=<Request [b'POST']>
2025-09-04 02:14:53,885 [DEBUG] receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Wed, 03 Sep 2025 20:44:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'estyl'), (b'openai-processing-ms', b'4206'), (b'openai-project', b'proj_hW6ArBp4wnCsWuNcNn20BIGo'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'4210'), (b'x-ratelimit-limit-requests', b'30000'), (b'x-ratelimit-limit-tokens', b'150000000'), (b'x-ratelimit-remaining-requests', b'29999'), (b'x-ratelimit-remaining-tokens', b'149999882'), (b'x-ratelimit-reset-requests', b'2ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_db6d1faf4cd54171b8c72c1d47f55d91'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=1noSUb3kc7Lj4K1MUy9k0vhGpN7DxNI8m4GYT4SjZRw-1756932294-1.0.1.1-Jfg..gQTjvMyoIuXu62HEUKhU5VTQva.Ovq_06wH7KI97CRMjsS4zD2KyPLmmG.HuR5NvWFsLOlmdyvi0u2pIMYIYk.bbHFeZL8P2lbV5Ro; path=/; expires=Wed, 03-Sep-25 21:14:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=9t1Y6e8ypqUUiP5F7nKyzy950kMXCmkVOq9.dgBRfqs-1756932294044-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97981658bf928afa-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-04 02:14:53,885 [INFO] HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 02:14:53,885 [DEBUG] receive_response_body.started request=<Request [b'POST']>
2025-09-04 02:14:53,896 [DEBUG] receive_response_body.complete
2025-09-04 02:14:53,897 [DEBUG] response_closed.started
2025-09-04 02:14:53,897 [DEBUG] response_closed.complete
2025-09-04 02:14:53,897 [DEBUG] HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Wed, 03 Sep 2025 20:44:54 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'estyl'), ('openai-processing-ms', '4206'), ('openai-project', 'proj_hW6ArBp4wnCsWuNcNn20BIGo'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '4210'), ('x-ratelimit-limit-requests', '30000'), ('x-ratelimit-limit-tokens', '150000000'), ('x-ratelimit-remaining-requests', '29999'), ('x-ratelimit-remaining-tokens', '149999882'), ('x-ratelimit-reset-requests', '2ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_db6d1faf4cd54171b8c72c1d47f55d91'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=1noSUb3kc7Lj4K1MUy9k0vhGpN7DxNI8m4GYT4SjZRw-1756932294-1.0.1.1-Jfg..gQTjvMyoIuXu62HEUKhU5VTQva.Ovq_06wH7KI97CRMjsS4zD2KyPLmmG.HuR5NvWFsLOlmdyvi0u2pIMYIYk.bbHFeZL8P2lbV5Ro; path=/; expires=Wed, 03-Sep-25 21:14:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=9t1Y6e8ypqUUiP5F7nKyzy950kMXCmkVOq9.dgBRfqs-1756932294044-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '97981658bf928afa-BOM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-09-04 02:14:53,897 [DEBUG] request_id: req_db6d1faf4cd54171b8c72c1d47f55d91
2025-09-04 02:14:53,897 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:14:53,897 [DEBUG] Running hybrid search with query=light blue silk blouse, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CBFB830>
2025-09-04 02:14:54,434 [DEBUG] Got 5 objects back
2025-09-04 02:14:54,435 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:14:54,435 [DEBUG] Running hybrid search with query=cream midi skirt, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CBFA7B0>
2025-09-04 02:14:54,868 [DEBUG] Got 5 objects back
2025-09-04 02:14:54,868 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:14:54,868 [DEBUG] Running hybrid search with query=nude block heel sandals, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CBFB260>
2025-09-04 02:14:55,380 [DEBUG] Got 5 objects back
2025-09-04 02:14:55,380 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:14:55,380 [DEBUG] Running hybrid search with query=blush tailored blazer, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CBFB1A0>
2025-09-04 02:14:55,815 [DEBUG] Got 4 objects back
2025-09-04 02:14:55,815 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:14:55,815 [DEBUG] Running hybrid search with query=pearl drop earrings, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C72B1A0>
2025-09-04 02:14:56,416 [DEBUG] Got 0 objects back
2025-09-04 02:14:56,416 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:14:56,419 [DEBUG] Running hybrid search with query=white lace top, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5605EB200>
2025-09-04 02:14:56,977 [DEBUG] Got 5 objects back
2025-09-04 02:14:56,979 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:14:56,979 [DEBUG] Running hybrid search with query=black high-waisted trousers, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C8545C0>
2025-09-04 02:14:57,479 [DEBUG] Got 5 objects back
2025-09-04 02:14:57,479 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:14:57,479 [DEBUG] Running hybrid search with query=black pointed toe pumps, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55CBFB830>
2025-09-04 02:14:57,959 [DEBUG] Got 5 objects back
2025-09-04 02:14:57,959 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:14:57,959 [DEBUG] Running hybrid search with query=grey longline coat, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5605EB200>
2025-09-04 02:14:58,444 [DEBUG] Got 5 objects back
2025-09-04 02:14:58,444 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:14:58,444 [DEBUG] Running hybrid search with query=silver clutch bag, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D536731760>
2025-09-04 02:14:58,886 [DEBUG] Got 5 objects back
2025-09-04 02:14:58,886 [DEBUG] close.started
2025-09-04 02:14:58,886 [DEBUG] close.complete
2025-09-04 02:14:58,890 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:14:58,890 [DEBUG] Running hybrid search with query=pastel pink wrap top, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C6EF0E0>
2025-09-04 02:14:59,388 [DEBUG] Got 5 objects back
2025-09-04 02:14:59,388 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:14:59,388 [DEBUG] Running hybrid search with query=white tailored culottes, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5367FD5B0>
2025-09-04 02:14:59,885 [DEBUG] Got 5 objects back
2025-09-04 02:14:59,885 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:14:59,885 [DEBUG] Running hybrid search with query=rose gold strappy heels, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5605CC560>
2025-09-04 02:15:00,369 [DEBUG] Got 5 objects back
2025-09-04 02:15:00,369 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:15:00,369 [DEBUG] Running hybrid search with query=light grey cardigan, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5367FFA40>
2025-09-04 02:15:00,817 [DEBUG] Got 5 objects back
2025-09-04 02:15:00,817 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:15:00,817 [DEBUG] Running hybrid search with query=gold hoop earrings, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D53661D4C0>
2025-09-04 02:15:01,245 [DEBUG] Got 5 objects back
2025-09-04 02:15:01,245 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:15:01,245 [DEBUG] Running hybrid search with query=ivory satin camisole, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5367FFCB0>
2025-09-04 02:15:01,659 [DEBUG] Got 2 objects back
2025-09-04 02:15:01,659 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:15:01,659 [DEBUG] Running hybrid search with query=burgundy pencil skirt, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5605E96A0>
2025-09-04 02:15:02,215 [DEBUG] Got 2 objects back
2025-09-04 02:15:02,215 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:15:02,215 [DEBUG] Running hybrid search with query=black ankle strap heels, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55C8545C0>
2025-09-04 02:15:02,741 [DEBUG] Got 5 objects back
2025-09-04 02:15:02,741 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:15:02,741 [DEBUG] Running hybrid search with query=black leather jacket, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5605CC2C0>
2025-09-04 02:15:03,365 [DEBUG] Got 5 objects back
2025-09-04 02:15:03,365 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:15:03,365 [DEBUG] Running hybrid search with query=statement necklace, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5367FFC20>
2025-09-04 02:15:03,820 [DEBUG] Got 5 objects back
2025-09-04 02:15:03,820 [DEBUG] Category 'Tops' budget bounds: 26.4 - 73.33333333333334 (cap: 73.33333333333334) | (budget: 400.0, weight: 0.22)
2025-09-04 02:15:03,820 [DEBUG] Running hybrid search with query=floral print blouse, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5605EACC0>
2025-09-04 02:15:04,527 [DEBUG] Got 5 objects back
2025-09-04 02:15:04,527 [DEBUG] Category 'Bottoms' budget bounds: 30.0 - 83.33333333333334 (cap: 83.33333333333334) | (budget: 400.0, weight: 0.25)
2025-09-04 02:15:04,527 [DEBUG] Running hybrid search with query=dark green A-line skirt, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D536731F40>
2025-09-04 02:15:04,968 [DEBUG] Got 5 objects back
2025-09-04 02:15:04,968 [DEBUG] Category 'Shoes' budget bounds: 36.0 - 100.0 (cap: 100.0) | (budget: 400.0, weight: 0.3)
2025-09-04 02:15:04,968 [DEBUG] Running hybrid search with query=beige wedge sandals, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D55B0503E0>
2025-09-04 02:15:05,405 [DEBUG] Got 5 objects back
2025-09-04 02:15:05,405 [DEBUG] Category 'Outerwear' budget bounds: 42.0 - 116.66666666666667 (cap: 116.66666666666667) | (budget: 400.0, weight: 0.35)
2025-09-04 02:15:05,405 [DEBUG] Running hybrid search with query=cream trench coat, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5605EACC0>
2025-09-04 02:15:05,836 [DEBUG] Got 5 objects back
2025-09-04 02:15:05,836 [DEBUG] Category 'Accessories' budget bounds: 9.6 - 26.666666666666668 (cap: 26.666666666666668) | (budget: 400.0, weight: 0.08)
2025-09-04 02:15:05,836 [DEBUG] Running hybrid search with query=woven handbag, limit=5, filters=<weaviate.collections.classes.filters._FilterAnd object at 0x000001D5605E9CD0>
2025-09-04 02:15:06,256 [DEBUG] Got 5 objects back
2025-09-04 02:15:06,286 [DEBUG] Response sent
